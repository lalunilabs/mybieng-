(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[882],{19685:function(e,s,t){Promise.resolve().then(t.bind(t,9190))},9190:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return m}});var i=t(57437),a=t(2265),r=t(99376),n=t(55520),l=t(84226),o=t(30087),c=t(99178),d=t(175),u=t(93772);function m(){var e,s,t;let[m,p]=(0,a.useState)("cognitive-dissonance"),[h,x]=(0,a.useState)(!1),[g,v]=(0,a.useState)(""),[y,f]=(0,a.useState)(!1),j=(0,r.useRouter)(),b=[{id:"cognitive-dissonance",title:"Cognitive Dissonance Assessment",description:"Your patterns of mental conflict and resolution",completedDate:"2024-08-28",score:72,insights:["High tendency for instant justification","Moderate belief shift patterns","Strong identity protection mechanisms"]},{id:"personality-patterns",title:"Personality Patterns",description:"Core behavioral and thinking patterns",completedDate:"2024-08-25",score:85,insights:["Strong analytical thinking","Moderate social engagement","High creative problem solving"]}],N=b.find(e=>e.id===m),w=N?(0,d.tF)(N.score,100):null,S="http://localhost:3000";return(0,i.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,i.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify({"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Home",item:"".concat(S,"/")},{"@type":"ListItem",position:2,name:"Reports",item:"".concat(S,"/reports")}]})}}),(0,i.jsx)("div",{className:"pb-12 px-4 sm:px-6 lg:px-8",children:(0,i.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,i.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:[(0,i.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Your Reports"}),(0,i.jsx)("p",{className:"text-xl text-gray-600",children:"Interactive insights from your assessments with personalized reading recommendations"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,i.jsxs)("div",{className:"lg:col-span-1",children:[(0,i.jsxs)(c.Zb,{children:[(0,i.jsxs)(c.Ol,{children:[(0,i.jsx)(c.ll,{children:"Your Assessments"}),(0,i.jsx)(c.SZ,{children:"Click on any report to view detailed charts and insights"})]}),(0,i.jsx)(c.aY,{className:"space-y-4",children:b.map(e=>(0,i.jsxs)(n.E.div,{whileHover:{scale:1.02},className:"p-4 rounded-lg border cursor-pointer transition-all ".concat(m===e.id?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300"),onClick:()=>p(e.id),children:[(0,i.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:e.title}),(0,i.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),(0,i.jsxs)("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[(0,i.jsxs)("span",{children:["Completed: ",e.completedDate]}),(0,i.jsx)("span",{className:"bg-purple-100 text-purple-700 px-2 py-1 rounded",children:(()=>{let s=(0,d.tF)(e.score,100);return"Summary: ".concat(s?s.label:"—")})()})]})]},e.id))})]}),(0,i.jsxs)("div",{className:"mt-4 flex flex-col sm:flex-row gap-3",children:[(0,i.jsx)(o.default,{href:"/reports/".concat(m,"?score=").concat(null!==(t=null==N?void 0:N.score)&&void 0!==t?t:0,"&maxScore=").concat(100),surface:"reports_page",eventName:"view_report_detail",variant:"outline",className:"flex-1",children:"View full report"}),(0,i.jsx)(o.default,{surface:"reports_page",eventName:"ask_ai_from_reports",className:"flex-1",variant:"uiverse",onClick:()=>{var e,s,t,i;let a=(null===(t=globalThis)||void 0===t?void 0:null===(s=t.crypto)||void 0===s?void 0:null===(e=s.randomUUID)||void 0===e?void 0:e.call(s))||Math.random().toString(36).slice(2),r=new URLSearchParams({quizId:m,score:String(null!==(i=null==N?void 0:N.score)&&void 0!==i?i:0),maxScore:String(100),...w?{band:w.label}:{}});j.push("/chat/".concat(a,"?").concat(r.toString()))},children:"Ask AI about this"})]})]}),(0,i.jsx)("div",{className:"lg:col-span-2",children:(0,i.jsxs)(c.Zb,{className:"mb-6",children:[(0,i.jsxs)(c.Ol,{children:[(0,i.jsx)(c.ll,{children:"Interactive Chart View"}),(0,i.jsx)(c.SZ,{children:"Visual breakdown of your assessment results"})]}),(0,i.jsxs)(c.aY,{children:[(0,i.jsx)("div",{className:"h-64 bg-gradient-to-br from-purple-100 to-purple-200 rounded-lg flex items-center justify-center mb-6",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("p",{className:"text-purple-700 font-medium",children:"Interactive Chart"}),(0,i.jsxs)("p",{className:"text-purple-600 text-sm",children:[null===(e=b.find(e=>e.id===m))||void 0===e?void 0:e.title," Results"]})]})}),(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:null===(s=b.find(e=>e.id===m))||void 0===s?void 0:s.insights.map((e,s)=>(0,i.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,i.jsx)("div",{className:"mb-1 text-sm font-medium text-gray-900",children:"Key Insight"}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:e})]},s))}),(0,i.jsxs)("div",{className:"mt-6 space-y-3",children:[(0,i.jsxs)("div",{className:"flex gap-4",children:[(0,i.jsx)(o.default,{surface:"reports_page",eventName:"email_report_click",onClick:()=>x(e=>!e),children:"Email Detailed Report"}),(0,i.jsx)(o.default,{surface:"reports_page",eventName:"download_report",variant:"outline",children:"Download PDF"})]}),h&&(0,i.jsxs)("form",{className:"flex flex-col sm:flex-row gap-3",onSubmit:async e=>{if(e.preventDefault(),!g||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g)){u.A.error("Please enter a valid email");return}try{var s;f(!0);let e=await fetch("/api/quiz/email-results",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:g,quizId:m,quizTitle:(null==N?void 0:N.title)||m,score:null!==(s=null==N?void 0:N.score)&&void 0!==s?s:0,maxScore:100,band:null==w?void 0:w.label})});if(e.ok)u.A.success("Detailed report will arrive by email shortly."),x(!1),v("");else{let s=await e.json().catch(()=>({}));u.A.error(s.error||"Failed to queue email")}}catch(e){u.A.error("Network error. Please try again.")}finally{f(!1)}},children:[(0,i.jsx)("input",{type:"email",inputMode:"email",placeholder:"Enter your email",value:g,onChange:e=>v(e.target.value),className:"flex-1 min-w-0 rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500","aria-label":"Email address",required:!0}),(0,i.jsx)(l.z,{type:"submit",disabled:y,className:"px-5",children:y?"Sending…":"Send report"})]})]})]})]})})]}),(0,i.jsx)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"mt-12",children:(0,i.jsxs)(c.Zb,{children:[(0,i.jsxs)(c.Ol,{children:[(0,i.jsx)(c.ll,{children:"Recommended Reading"}),(0,i.jsx)(c.SZ,{children:"Books and articles to deepen your understanding based on your results"})]}),(0,i.jsx)(c.aY,{children:(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{title:"When Prophecy Fails",author:"Leon Festinger",type:"Book",relevance:"Cognitive Dissonance",description:"Classic study on how people handle conflicting beliefs",link:"#"},{title:"Thinking, Fast and Slow",author:"Daniel Kahneman",type:"Book",relevance:"Decision Making",description:"Understanding your dual-process thinking patterns",link:"#"},{title:"The Righteous Mind",author:"Jonathan Haidt",type:"Book",relevance:"Moral Psychology",description:"How moral reasoning affects your decisions",link:"#"},{title:"Cognitive Dissonance Theory",author:"Research Paper",type:"Article",relevance:"Psychology",description:"Latest research on cognitive dissonance mechanisms",link:"#"}].map((e,s)=>(0,i.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1*s},className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,i.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:e.title}),(0,i.jsxs)("p",{className:"text-sm text-gray-600",children:["by ",e.author]})]}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded",children:e.type}),(0,i.jsx)("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded",children:e.relevance})]})]}),(0,i.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:e.description}),(0,i.jsx)(o.default,{href:e.link,surface:"reports_resources",eventName:"view_resource",variant:"outline",size:"sm",className:"w-full",children:"View Resource"})]},s))})})]})})]})})]})}},99376:function(e,s,t){"use strict";var i=t(35475);t.o(i,"notFound")&&t.d(s,{notFound:function(){return i.notFound}}),t.o(i,"useParams")&&t.d(s,{useParams:function(){return i.useParams}}),t.o(i,"usePathname")&&t.d(s,{usePathname:function(){return i.usePathname}}),t.o(i,"useRouter")&&t.d(s,{useRouter:function(){return i.useRouter}}),t.o(i,"useSearchParams")&&t.d(s,{useSearchParams:function(){return i.useSearchParams}})}},function(e){e.O(0,[6137,2972,5520,7216,2560,2971,2117,1744],function(){return e(e.s=19685)}),_N_E=e.O()}]);