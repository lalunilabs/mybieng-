(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1235],{34019:function(e,t,a){Promise.resolve().then(a.bind(a,40627))},40627:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return y}});var r=a(57437),s=a(2265),l=a(55520),n=a(5095),o=a(92369),i=a(89345),d=a(66337),c=a(87769),p=a(42208),u=a(76858),x=a(27648);function m(e){let{mode:t="login",onSubmit:a,onToggleMode:m,className:h=""}=e,[f,y]=(0,s.useState)({name:"",email:"",password:""}),[w,b]=(0,s.useState)(!1),[g,_]=(0,s.useState)(!1),[k,v]=(0,s.useState)({}),j="signup"===t,E=async e=>{e.preventDefault(),v({}),_(!0);let t={};if(f.email||(t.email="Email is required"),f.password||(t.password="Password is required"),j&&!f.name&&(t.name="Name is required"),Object.keys(t).length>0){v(t),_(!1);return}try{await (null==a?void 0:a(f))}catch(e){v({general:"Something went wrong. Please try again."})}finally{_(!1)}},N=(e,t)=>{y(a=>({...a,[e]:t})),k[e]&&v(t=>({...t,[e]:""}))};return(0,r.jsxs)("div",{className:"auth-container flex items-center justify-center flex-col text-center min-h-screen p-4 ".concat(h),children:[(0,r.jsxs)(l.E.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.5,ease:"easeOut"},className:"form_area flex justify-center items-center flex-col bg-yellow-50 dark:bg-yellow-950/20 h-auto w-auto border-2 border-slate-700 dark:border-slate-300 rounded-3xl shadow-[4px_5px_0px_2px_theme(colors.yellow.400)] dark:shadow-[4px_5px_0px_2px_theme(colors.yellow.500)] p-8",children:[(0,r.jsx)(l.E.h1,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.2},className:"title text-slate-700 dark:text-slate-200 font-black text-2xl mt-4 mb-2",children:j?"Join MyBeing":"Welcome Back"}),(0,r.jsx)(l.E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"sub_title font-semibold text-slate-600 dark:text-slate-400 mb-6",children:j?"Start your self-discovery journey":"Continue your journey of self-discovery"}),(0,r.jsxs)("form",{onSubmit:E,className:"w-full",children:[(0,r.jsxs)(n.M,{mode:"wait",children:[j&&(0,r.jsxs)(l.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"form_group flex flex-col items-start mx-2 mb-4",children:[(0,r.jsxs)("div",{className:"relative w-full",children:[(0,r.jsx)(o.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-500"}),(0,r.jsx)(l.E.input,{whileFocus:{y:1,boxShadow:"2px_3px_0px_0px_theme(colors.yellow.400)"},type:"text",placeholder:"Full Name",value:f.name,onChange:e=>N("name",e.target.value),className:"form_style outline-none border-2 border-slate-700 dark:border-slate-300 shadow-[4px_5px_0px_2px_theme(colors.yellow.400)] dark:shadow-[4px_5px_0px_2px_theme(colors.yellow.500)] w-80 py-3 pl-12 pr-4 rounded-lg text-base bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 placeholder:text-slate-500 transition-all duration-200",disabled:g})]}),k.name&&(0,r.jsx)("span",{className:"text-red-500 text-sm mt-1",children:k.name})]}),(0,r.jsxs)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"form_group flex flex-col items-start mx-2 mb-4",children:[(0,r.jsxs)("div",{className:"relative w-full",children:[(0,r.jsx)(i.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-500"}),(0,r.jsx)(l.E.input,{whileFocus:{y:1,boxShadow:"2px_3px_0px_0px_theme(colors.yellow.400)"},type:"email",placeholder:"Email Address",value:f.email,onChange:e=>N("email",e.target.value),className:"form_style outline-none border-2 border-slate-700 dark:border-slate-300 shadow-[4px_5px_0px_2px_theme(colors.yellow.400)] dark:shadow-[4px_5px_0px_2px_theme(colors.yellow.500)] w-80 py-3 pl-12 pr-4 rounded-lg text-base bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 placeholder:text-slate-500 transition-all duration-200",disabled:g})]}),k.email&&(0,r.jsx)("span",{className:"text-red-500 text-sm mt-1",children:k.email})]}),(0,r.jsxs)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"form_group flex flex-col items-start mx-2 mb-6",children:[(0,r.jsxs)("div",{className:"relative w-full",children:[(0,r.jsx)(d.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-500"}),(0,r.jsx)(l.E.input,{whileFocus:{y:1,boxShadow:"2px_3px_0px_0px_theme(colors.yellow.400)"},type:w?"text":"password",placeholder:"Password",value:f.password,onChange:e=>N("password",e.target.value),className:"form_style outline-none border-2 border-slate-700 dark:border-slate-300 shadow-[4px_5px_0px_2px_theme(colors.yellow.400)] dark:shadow-[4px_5px_0px_2px_theme(colors.yellow.500)] w-80 py-3 pl-12 pr-12 rounded-lg text-base bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 placeholder:text-slate-500 transition-all duration-200",disabled:g}),(0,r.jsx)("button",{type:"button",onClick:()=>b(!w),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-500 hover:text-slate-700 dark:hover:text-slate-300",children:w?(0,r.jsx)(c.Z,{className:"w-5 h-5"}):(0,r.jsx)(p.Z,{className:"w-5 h-5"})})]}),k.password&&(0,r.jsx)("span",{className:"text-red-500 text-sm mt-1",children:k.password})]})]}),k.general&&(0,r.jsx)(l.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-red-500 text-sm mb-4 p-3 bg-red-50 dark:bg-red-950/20 rounded-lg border border-red-200 dark:border-red-800",children:k.general}),(0,r.jsx)(l.E.button,{whileHover:{scale:1.02},whileTap:{y:1,boxShadow:"2px_2px_0px_0px_theme(colors.yellow.400)"},type:"submit",disabled:g,className:"btn py-4 my-6 w-80 text-base bg-purple-500 hover:bg-purple-600 disabled:bg-purple-400 text-white rounded-2xl font-bold shadow-[4px_4px_0px_0px_theme(colors.yellow.400)] dark:shadow-[4px_4px_0px_0px_theme(colors.yellow.500)] transition-all duration-200 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:g?(0,r.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,r.jsxs)(r.Fragment,{children:[j?"Create Account":"Sign In",(0,r.jsx)(u.Z,{className:"w-5 h-5"})]})})]}),(0,r.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"text-sm",children:[(0,r.jsx)("span",{className:"text-slate-600 dark:text-slate-400",children:j?"Already have an account?":"Don't have an account?"}),(0,r.jsx)("button",{onClick:m,className:"link font-bold text-slate-700 dark:text-slate-200 px-2 hover:text-purple-600 dark:hover:text-purple-400 transition-colors",children:j?"Sign In":"Sign Up"})]}),!j&&(0,r.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},className:"mt-4",children:(0,r.jsx)(x.default,{href:"/forgot-password",className:"text-sm text-slate-600 dark:text-slate-400 hover:text-purple-600 dark:hover:text-purple-400 transition-colors",children:"Forgot your password?"})})]}),(0,r.jsxs)(l.E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"text-xs text-slate-500 mt-8 max-w-md text-center",children:["By ",j?"creating an account":"signing in",", you agree to our"," ",(0,r.jsx)(x.default,{href:"/terms",className:"text-purple-600 hover:underline",children:"Terms of Service"})," ","and"," ",(0,r.jsx)(x.default,{href:"/privacy",className:"text-purple-600 hover:underline",children:"Privacy Policy"})]})]})}var h=a(80605),f=a(99376);function y(){let[e,t]=(0,s.useState)("login"),a=(0,f.useRouter)(),l=async t=>{if("login"===e){let e=await (0,h.signIn)("credentials",{email:t.email,password:t.password,redirect:!1});if(null==e?void 0:e.ok)a.push("/dashboard");else throw Error("Invalid credentials")}else{let e=await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(e.ok){let e=await (0,h.signIn)("credentials",{email:t.email,password:t.password,redirect:!1});(null==e?void 0:e.ok)&&a.push("/dashboard")}else throw Error((await e.json()).message||"Signup failed")}};return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 via-purple-50 to-pink-50 dark:from-slate-900 dark:via-purple-950 dark:to-slate-900",children:(0,r.jsx)(m,{mode:e,onSubmit:l,onToggleMode:()=>t("login"===e?"signup":"login")})})}},76858:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},87769:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},42208:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},66337:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},89345:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},92369:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},5095:function(e,t,a){"use strict";a.d(t,{M:function(){return f}});var r=a(2265),s=a(11534);function l(){let e=(0,r.useRef)(!1);return(0,s.L)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var n=a(45414),o=a(64252),i=a(53576);class d extends r.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function c({children:e,isPresent:t}){let a=(0,r.useId)(),s=(0,r.useRef)(null),l=(0,r.useRef)({width:0,height:0,top:0,left:0});return(0,r.useInsertionEffect)(()=>{let{width:e,height:r,top:n,left:o}=l.current;if(t||!s.current||!e||!r)return;s.current.dataset.motionPopId=a;let i=document.createElement("style");return document.head.appendChild(i),i.sheet&&i.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${r}px !important;
            top: ${n}px !important;
            left: ${o}px !important;
          }
        `),()=>{document.head.removeChild(i)}},[t]),r.createElement(d,{isPresent:t,childRef:s,sizeRef:l},r.cloneElement(e,{ref:s}))}let p=({children:e,initial:t,isPresent:a,onExitComplete:s,custom:l,presenceAffectsLayout:n,mode:d})=>{let p=(0,i.h)(u),x=(0,r.useId)(),m=(0,r.useMemo)(()=>({id:x,initial:t,isPresent:a,custom:l,onExitComplete:e=>{for(let t of(p.set(e,!0),p.values()))if(!t)return;s&&s()},register:e=>(p.set(e,!1),()=>p.delete(e))}),n?void 0:[a]);return(0,r.useMemo)(()=>{p.forEach((e,t)=>p.set(t,!1))},[a]),r.useEffect(()=>{a||p.size||!s||s()},[a]),"popLayout"===d&&(e=r.createElement(c,{isPresent:a},e)),r.createElement(o.O.Provider,{value:m},e)};function u(){return new Map}var x=a(58881),m=a(13223);let h=e=>e.key||"",f=({children:e,custom:t,initial:a=!0,onExitComplete:o,exitBeforeEnter:i,presenceAffectsLayout:d=!0,mode:c="sync"})=>{var u;(0,m.k)(!i,"Replace exitBeforeEnter with mode='wait'");let f=(0,r.useContext)(x.p).forceRender||function(){let e=l(),[t,a]=(0,r.useState)(0),s=(0,r.useCallback)(()=>{e.current&&a(t+1)},[t]);return[(0,r.useCallback)(()=>n.Wi.postRender(s),[s]),t]}()[0],y=l(),w=function(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}(e),b=w,g=(0,r.useRef)(new Map).current,_=(0,r.useRef)(b),k=(0,r.useRef)(new Map).current,v=(0,r.useRef)(!0);if((0,s.L)(()=>{v.current=!1,function(e,t){e.forEach(e=>{let a=h(e);t.set(a,e)})}(w,k),_.current=b}),u=()=>{v.current=!0,k.clear(),g.clear()},(0,r.useEffect)(()=>()=>u(),[]),v.current)return r.createElement(r.Fragment,null,b.map(e=>r.createElement(p,{key:h(e),isPresent:!0,initial:!!a&&void 0,presenceAffectsLayout:d,mode:c},e)));b=[...b];let j=_.current.map(h),E=w.map(h),N=j.length;for(let e=0;e<N;e++){let t=j[e];-1!==E.indexOf(t)||g.has(t)||g.set(t,void 0)}return"wait"===c&&g.size&&(b=[]),g.forEach((e,a)=>{if(-1!==E.indexOf(a))return;let s=k.get(a);if(!s)return;let l=j.indexOf(a),n=e;n||(n=r.createElement(p,{key:h(s),isPresent:!1,onExitComplete:()=>{g.delete(a);let e=Array.from(k.keys()).filter(e=>!E.includes(e));if(e.forEach(e=>k.delete(e)),_.current=w.filter(t=>{let r=h(t);return r===a||e.includes(r)}),!g.size){if(!1===y.current)return;f(),o&&o()}},custom:t,presenceAffectsLayout:d,mode:c},s),g.set(a,n)),b.splice(l,0,n)}),b=b.map(e=>{let t=e.key;return g.has(t)?e:r.createElement(p,{key:h(e),isPresent:!0,presenceAffectsLayout:d,mode:c},e)}),r.createElement(r.Fragment,null,g.size?b:b.map(e=>(0,r.cloneElement)(e)))}}},function(e){e.O(0,[2972,5520,1651,2971,2117,1744],function(){return e(e.s=34019)}),_N_E=e.O()}]);