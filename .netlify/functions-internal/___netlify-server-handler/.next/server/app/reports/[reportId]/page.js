(()=>{var e={};e.id=4882,e.ids=[4882],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},98076:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>c,pages:()=>u,routeModule:()=>m,tree:()=>d}),r(27150),r(36662),r(15778),r(35866);var s=r(23191),a=r(88716),n=r(37922),i=r.n(n),l=r(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d=["",{children:["reports",{children:["[reportId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,27150)),"/Users/niharikasai/mybeing/app/reports/[reportId]/page.tsx"]}]},{}]},{metadata:{icon:[],apple:[],openGraph:[],twitter:[],manifest:"/manifest.json"}}]},{layout:[()=>Promise.resolve().then(r.bind(r,36662)),"/Users/niharikasai/mybeing/app/layout.tsx"],template:[()=>Promise.resolve().then(r.bind(r,15778)),"/Users/niharikasai/mybeing/app/template.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[],apple:[],openGraph:[],twitter:[],manifest:"/manifest.json"}}],u=["/Users/niharikasai/mybeing/app/reports/[reportId]/page.tsx"],c="/reports/[reportId]/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/reports/[reportId]/page",pathname:"/reports/[reportId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},67839:(e,t,r)=>{Promise.resolve().then(r.bind(r,22372))},22372:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var s=r(10326),a=r(17577),n=r(35047),i=r(90434),l=r(3679),o=r(63470),d=r(43353),u=r.n(d),c=r(89568),p=r(21021),m=r(85999);function f(){let[e,t]=(0,a.useState)(!1),[r,d]=(0,a.useState)(""),[f,x]=(0,a.useState)(!1),h=(0,n.useParams)(),g=(0,n.useSearchParams)(),b=(0,n.useRouter)(),y=h?.reportId||"",j=g?.get("score"),v=g?.get("maxScore");g?.get("quizId");let _=Number(j??72),P=Number(v??100),N=(0,c.D9)(y),S=(0,c.tF)(_,P),w=(0,a.useMemo)(()=>(N?.questions||[]).map((e,t)=>({questionId:e.id??String(t+1),questionText:e.text,answer:"—",questionType:"text"})),[N]),I=(0,a.useMemo)(()=>{try{return crypto?.randomUUID?.()||Math.random().toString(36).slice(2)}catch{return Math.random().toString(36).slice(2)}},[]),q=`/chat/${I}?quizId=${encodeURIComponent(y)}&band=${encodeURIComponent(S.label)}&score=${encodeURIComponent(String(_))}&maxScore=${encodeURIComponent(String(P))}`,k=u()(async()=>{},{loadableGenerated:{modules:["app/reports/[reportId]/page.tsx -> @/components/ui/QuizReportVisualization"]},ssr:!1,loading:()=>s.jsx("div",{className:"h-64 bg-gradient-to-br from-purple-100 to-purple-200 rounded-lg animate-pulse"})}),z="http://localhost:3000",C=`${z}/reports/${y}`,M={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Home",item:`${z}/`},{"@type":"ListItem",position:2,name:"Reports",item:`${z}/reports`},{"@type":"ListItem",position:3,name:N?.title||"Assessment Report",item:C}]};return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-purple-50",children:[s.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(M)}}),(0,s.jsxs)("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[s.jsx("div",{className:"mb-6 flex items-center justify-between",children:s.jsx(i.default,{href:"/reports",className:"inline-flex items-center text-sm text-purple-700 hover:text-purple-800",children:"← Back to reports"})}),(0,s.jsxs)(p.Zb,{className:"mb-8",children:[s.jsx(p.Ol,{children:s.jsx(p.ll,{className:"text-2xl",children:N?.title||"Assessment Report"})}),s.jsx(p.aY,{children:(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-700",children:[(0,s.jsxs)("div",{children:[s.jsx("span",{className:"font-semibold",children:"Summary:"})," ",S.label]}),(0,s.jsxs)("div",{className:"hidden md:block text-gray-600",children:[s.jsx("span",{className:"font-semibold",children:"Brief insight:"})," ",S.advice]}),(0,s.jsxs)("div",{children:[s.jsx("span",{className:"font-semibold",children:"Quiz:"})," ",N?.slug||y]}),(0,s.jsxs)("div",{className:"ml-auto flex flex-col gap-3 items-end",children:[s.jsx(o.default,{href:q,surface:"report_detail",eventName:"report_chat_start",variant:"uiverse",className:"whitespace-nowrap",children:"Ask AI about this report"}),s.jsx("div",{className:"w-full",children:s.jsx(o.default,{surface:"report_detail",eventName:"email_detailed_report_click",variant:"outline",className:"whitespace-nowrap",onClick:()=>t(e=>!e),children:"Email detailed report"})}),e&&(0,s.jsxs)("form",{className:"flex flex-col sm:flex-row gap-3 w-full",onSubmit:async e=>{if(e.preventDefault(),!r||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)){m.A.error("Please enter a valid email");return}try{x(!0);let e=await fetch("/api/quiz/email-results",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,quizId:y,quizTitle:N?.title||y,score:_,maxScore:P,band:S.label})});if(e.ok)m.A.success("Detailed report will arrive by email shortly."),t(!1),d("");else{let t=await e.json().catch(()=>({}));m.A.error(t.error||"Failed to queue email")}}catch{m.A.error("Network error. Please try again.")}finally{x(!1)}},children:[s.jsx("input",{type:"email",inputMode:"email",placeholder:"Enter your email",value:r,onChange:e=>d(e.target.value),className:"flex-1 min-w-0 rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500","aria-label":"Email address",required:!0}),s.jsx(l.z,{type:"submit",disabled:f,className:"px-5",children:f?"Sending…":"Send report"})]})]})]})})]}),s.jsx(k,{score:_,maxScore:P,band:S,quizTitle:N?.title||"Assessment",quizSlug:N?.slug||y,responses:w,onRetake:()=>{b.push("/quizzes")},onShare:()=>{try{navigator.clipboard.writeText(window.location.href)}catch{}}})]})]})}},63470:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var s=r(10326);r(17577);var a=r(90434),n=r(3679),i=r(84348);let l=function({href:e,children:t,className:r,size:l="md",variant:o="gradient",surface:d,eventName:u="start_journey",analytics:c,onClick:p,target:m,rel:f}){let x=e=>{try{(0,i.L9)(u,{surface:d,...c})}catch{}p?.(e)};return e?s.jsx(n.z,{variant:o,size:l,className:r,asChild:!0,children:s.jsx(a.default,{href:e,onClick:x,target:m,rel:f,children:t})}):s.jsx(n.z,{variant:o,size:l,className:r,onClick:x,children:t})}},43353:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}});let s=r(91174);r(10326),r(17577);let a=s._(r(77028));function n(e,t){var r;let s={loading:e=>{let{error:t,isLoading:r,pastDelay:s}=e;return null}};"function"==typeof e&&(s.loader=e);let n={...s,...t};return(0,a.default)({...n,modules:null==(r=n.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},933:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let s=r(94129);function a(e){let{reason:t,children:r}=e;throw new s.BailoutToCSRError(t)}},77028:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return d}});let s=r(10326),a=r(17577),n=r(933),i=r(46618);function l(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},d=function(e){let t={...o,...e},r=(0,a.lazy)(()=>t.loader().then(l)),d=t.loading;function u(e){let l=d?(0,s.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,o=t.ssr?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.PreloadCss,{moduleIds:t.modules}),(0,s.jsx)(r,{...e})]}):(0,s.jsx)(n.BailoutToCSR,{reason:"next/dynamic",children:(0,s.jsx)(r,{...e})});return(0,s.jsx)(a.Suspense,{fallback:l,children:o})}return u.displayName="LoadableComponent",u}},46618:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return n}});let s=r(10326),a=r(54580);function n(e){let{moduleIds:t}=e,r=(0,a.getExpectedRequestStore)("next/dynamic css"),n=[];if(r.reactLoadableManifest&&t){let e=r.reactLoadableManifest;for(let r of t){if(!e[r])continue;let t=e[r].files.filter(e=>e.endsWith(".css"));n.push(...t)}}return 0===n.length?null:(0,s.jsx)(s.Fragment,{children:n.map(e=>(0,s.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:r.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},27150:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`/Users/niharikasai/mybeing/app/reports/[reportId]/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[8948,2247,124,9568],()=>r(98076));module.exports=s})();