"use strict";(()=>{var e={};e.id=5720,e.ids=[5720],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},12754:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>S,patchFetch:()=>j,requestAsyncStorage:()=>y,routeModule:()=>w,serverHooks:()=>x,staticGenerationAsyncStorage:()=>b});var s={};r.r(s),r.d(s,{POST:()=>v});var i=r(49303),a=r(88716),n=r(60670),o=r(87070),u=r(65630),l=r(29489);let c=u.Z_().email("Invalid email address");u.Z_().min(8,"Password must be at least 8 characters");let d=u.Z_().regex(/^[a-z0-9-]+$/,"Invalid slug format"),m=u.Ry({question:u.Z_().min(1,"Question is required"),value:u.Rx().int().min(1).max(5,"Answer value must be between 1-5")}),p=u.Ry({sessionId:u.Z_().min(1,"Session ID is required"),quizSlug:d,answers:u.IX(m).min(1,"At least one answer is required")});function g(e,t,r,s){return{success:e,...t&&{data:t},...r&&{message:r},...s&&{error:s},timestamp:new Date().toISOString()}}u.Ry({email:c,source:u.Z_().optional()}),u.Ry({name:u.Z_().min(2,"Name must be at least 2 characters"),email:c,subject:u.Z_().min(5,"Subject must be at least 5 characters"),message:u.Z_().min(10,"Message must be at least 10 characters")}),u.Ry({success:u.O7(),message:u.Z_().optional(),data:u.Yj().optional(),error:u.Z_().optional()});class h{formatMessage(e){let{level:t,message:r,timestamp:s,context:i,error:a}=e,n=`[${s}] ${t.toUpperCase()}: ${r}`;return i&&Object.keys(i).length>0&&(n+=` | Context: ${JSON.stringify(i)}`),a&&(n+=` | Error: ${a.message}`,this.isDevelopment&&a.stack&&(n+=`
Stack: ${a.stack}`)),n}createLogEntry(e,t,r,s){return{level:e,message:t,timestamp:new Date().toISOString(),context:r,error:s}}shouldLog(e){return!this.isProduction||"warn"===e||"error"===e}debug(e,t){if(!this.shouldLog("debug"))return;let r=this.createLogEntry("debug",e,t);console.debug(this.formatMessage(r))}info(e,t){if(!this.shouldLog("info"))return;let r=this.createLogEntry("info",e,t);console.info(this.formatMessage(r))}warn(e,t,r){if(!this.shouldLog("warn"))return;let s=this.createLogEntry("warn",e,t,r);console.warn(this.formatMessage(s)),this.isProduction&&this.sendToMonitoringService(s)}error(e,t,r){if(!this.shouldLog("error"))return;let s=this.createLogEntry("error",e,t,r);console.error(this.formatMessage(s)),this.isProduction&&this.sendToMonitoringService(s)}sendToMonitoringService(e){}constructor(){this.isDevelopment=!1,this.isProduction=!0}}let f=new h;async function v(e){try{let t=await e.json(),r=function(e,t){try{let r=e.parse(t);return{success:!0,data:r}}catch(e){if(e instanceof l.j)return{success:!1,error:e.issues.map(e=>`${e.path.join(".")}: ${e.message}`).join(", ")};return{success:!1,error:"Validation failed"}}}(p,t);if(!r.success)return f.warn("Validation failed",{error:r.error,body:t}),o.NextResponse.json(g(!1,null,void 0,r.error),{status:400});let{sessionId:s,quizSlug:i,answers:a}=r.data;return f.info("Quiz submission validated",{sessionId:s,quizSlug:i,answerCount:a.length}),o.NextResponse.json(g(!0,{sessionId:s,quizSlug:i,processed:a.length},"Validation successful"))}catch(e){return f.error("API error",{error:e}),o.NextResponse.json(g(!1,null,void 0,"Internal server error"),{status:500})}}let w=new i.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/test-validation/route",pathname:"/api/test-validation",filename:"route",bundlePath:"app/api/test-validation/route"},resolvedPagePath:"/Users/niharikasai/mybeing/app/api/test-validation/route.ts",nextConfigOutput:"standalone",userland:s}),{requestAsyncStorage:y,staticGenerationAsyncStorage:b,serverHooks:x}=w,S="/api/test-validation/route";function j(){return(0,n.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:b})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[8948,5972,5630],()=>r(12754));module.exports=s})();