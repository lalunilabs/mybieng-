"use strict";(()=>{var e={};e.id=9307,e.ids=[9307],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},78893:e=>{e.exports=require("buffer")},84770:e=>{e.exports=require("crypto")},92048:e=>{e.exports=require("fs")},20629:e=>{e.exports=require("fs/promises")},55315:e=>{e.exports=require("path")},76162:e=>{e.exports=require("stream")},21764:e=>{e.exports=require("util")},26266:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>q,patchFetch:()=>z,requestAsyncStorage:()=>h,routeModule:()=>g,serverHooks:()=>x,staticGenerationAsyncStorage:()=>f});var s={};r.r(s),r.d(s,{GET:()=>m,POST:()=>p});var n=r(49303),i=r(88716),o=r(60670),a=r(87070),u=r(20629),c=r(55315),d=r(92048),l=r(64363);async function p(e){try{if(!await (0,l.W)(e))return a.NextResponse.json({error:"Unauthorized"},{status:401});let t=await e.json();if(!t.title||!t.description)return a.NextResponse.json({error:"Title and description are required"},{status:400});let r=t.title.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),s={id:Date.now().toString(),slug:r,title:t.title,description:t.description,category:t.category||"Psychology",author:t.author||"Dr. N",estimatedTime:t.estimatedTime||15,featured:t.featured||!1,published:!0,researchBased:t.researchBased||!0,createdAt:t.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString(),questions:t.questions||[],totalQuestions:(t.questions||[]).length,completions:0,averageScore:0,tags:t.tags||[],resultTypes:{scoring:"numeric",bands:[{min:0,max:30,label:"Low",description:"Lower range results"},{min:31,max:70,label:"Moderate",description:"Moderate range results"},{min:71,max:100,label:"High",description:"Higher range results"}]},metadata:{version:"1.0",lastModified:new Date().toISOString(),status:"draft"}},n=(0,c.join)(process.cwd(),"content","quizzes");(0,d.existsSync)(n)||await (0,u.mkdir)(n,{recursive:!0});let i=(0,c.join)(n,`${r}.json`);return await (0,u.writeFile)(i,JSON.stringify(s,null,2)),console.log(`Quiz created: ${s.title} (${r})`),a.NextResponse.json({success:!0,quiz:s,message:"Quiz structure created successfully"})}catch(e){return console.error("Error creating quiz:",e),a.NextResponse.json({error:"Failed to create quiz"},{status:500})}}async function m(e){try{if(!await (0,l.W)(e))return a.NextResponse.json({error:"Unauthorized"},{status:401});return a.NextResponse.json({success:!0,quizzes:[],message:"Quiz management endpoint ready"})}catch(e){return console.error("Error fetching quizzes:",e),a.NextResponse.json({error:"Failed to fetch quizzes"},{status:500})}}let g=new n.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/admin/content/quiz/route",pathname:"/api/admin/content/quiz",filename:"route",bundlePath:"app/api/admin/content/quiz/route"},resolvedPagePath:"/Users/niharikasai/mybeing/app/api/admin/content/quiz/route.ts",nextConfigOutput:"standalone",userland:s}),{requestAsyncStorage:h,staticGenerationAsyncStorage:f,serverHooks:x}=g,q="/api/admin/content/quiz/route";function z(){return(0,o.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:f})}},64363:(e,t,r)=>{r.d(t,{O:()=>a,W:()=>o});var s=r(41482),n=r.n(s);let i=process.env.JWT_SECRET||"your-super-secure-jwt-secret";async function o(e){try{let t=e.headers.get("authorization");if(!t||!t.startsWith("Bearer "))return null;let r=t.substring(7),s=n().verify(r,i);if("admin"!==s.role||s.exp&&s.exp<Math.floor(Date.now()/1e3))return null;return s}catch(e){return console.error("Token verification error:",e),null}}function a(e){return n().sign({email:e,role:"admin",iat:Math.floor(Date.now()/1e3),exp:Math.floor(Date.now()/1e3)+86400},i)}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[8948,5972,1482],()=>r(26266));module.exports=s})();