"use strict";(()=>{var e={};e.id=1108,e.ids=[1108],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},77534:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>d,patchFetch:()=>m,requestAsyncStorage:()=>_,routeModule:()=>u,serverHooks:()=>E,staticGenerationAsyncStorage:()=>A});var a={};r.r(a),r.d(a,{POST:()=>g,runtime:()=>p});var s=r(49303),n=r(88716),o=r(60670),i=r(87070);let p="nodejs";async function g(e){try{let{prompt:t,aspectRatio:r="16:9"}=await e.json();if(!t||"string"!=typeof t)return i.NextResponse.json({error:"Missing prompt"},{status:400});let a=process.env.GOOGLE_IMAGES_API_KEY||process.env.GEMINI_API_KEY||process.env.GOOGLE_API_KEY;if(!a)return i.NextResponse.json({error:"Google Images API key not configured. Set GOOGLE_IMAGES_API_KEY (or GEMINI_API_KEY) in your env."},{status:400});let s=`https://generativelanguage.googleapis.com/v1beta/images:generate?key=${a}`,n=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"imagen-3.0",prompt:{text:t},imageGenerationConfig:{numberOfImages:1,aspectRatio:"1:1"===r?"SQUARE":"3:2"===r?"ASPECT_3_2":"4:3"===r?"ASPECT_4_3":"ASPECT_16_9",personGeneration:"DONT_ALLOW"},safetySettings:[{category:"HARM_CATEGORY_DANGEROUS",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_SEXUAL",threshold:"BLOCK_MEDIUM_AND_ABOVE"}]})});if(!n.ok){let e=await n.text();return i.NextResponse.json({error:"Images API error",detail:e},{status:502})}let o=await n.json(),p=o?.images?.[0]?.byteContent;if(!p)return i.NextResponse.json({error:"No image returned"},{status:502});let g=`data:image/png;base64,${p}`;return i.NextResponse.json({dataUrl:g})}catch(e){return i.NextResponse.json({error:"Server error",detail:String(e?.message||e)},{status:500})}}let u=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/images/generate/route",pathname:"/api/images/generate",filename:"route",bundlePath:"app/api/images/generate/route"},resolvedPagePath:"/Users/niharikasai/mybeing/app/api/images/generate/route.ts",nextConfigOutput:"standalone",userland:a}),{requestAsyncStorage:_,staticGenerationAsyncStorage:A,serverHooks:E}=u,d="/api/images/generate/route";function m(){return(0,o.patchFetch)({serverHooks:E,staticGenerationAsyncStorage:A})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[8948,5972],()=>r(77534));module.exports=a})();